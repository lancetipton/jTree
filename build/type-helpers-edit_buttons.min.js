((typeof self !== 'undefined' ? self : this)["webpackJsonp_name_"] = (typeof self !== 'undefined' ? self : this)["webpackJsonp_name_"] || []).push([["type-helpers-edit_buttons"],{

/***/ "./src/scripts/modules/types/helpers/create_icon.js":
/*!**********************************************************!*\
  !*** ./src/scripts/modules/types/helpers/create_icon.js ***!
  \**********************************************************/
/*! exports provided: createIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createIcon", function() { return createIcon; });
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! element-r */ "../Element-R/build/elementr.min.js");
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_r__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils */ "./src/scripts/utils/index.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var div = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].div,
    span = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].span,
    a = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].a,
    style = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].style;

var iconStyles = function iconStyles() {
  var stylId = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["uuid"])();
  var classes = {
    wrapper: "wrapper-".concat(stylId),
    icon: "icon-".concat(stylId),
    text: "text-".concat(stylId)
  };
  var styles = style("\n    .icon-wrapper.".concat(classes.wrapper, " {\n      \n    }\n    .icon-wrapper.").concat(classes.wrapper, " > a.").concat(classes.icon, " {\n      \n    }\n    .icon-wrapper.").concat(classes.wrapper, " > a.").concat(classes.icon, " > .icon-text.").concat(classes.text, " {\n      \n    }\n  "));
  return {
    classes: classes,
    styles: styles
  };
};

var createIcon = function createIcon(name, text) {
  var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

  var _iconStyles = iconStyles(),
      classes = _iconStyles.classes,
      styles = _iconStyles.styles;

  var props = {
    wrapper: _objectSpread({
      className: "icon-wrapper ".concat(classes.wrapper)
    }, extraProps.wrapper),
    icon: _objectSpread({
      className: "icon-".concat(name, " fa fa-").concat(name, " ").concat(classes.icon),
      href: 'javascript:void(0);',
      title: text || name
    }, extraProps.icon),
    text: _objectSpread({
      className: "icon-text ".concat(classes.text)
    }, extraProps.text)
  };
  var children = text ? [styles, a(props.icon, span(props.text, text))] : [styles, a(props.icon)];
  return span(props.wrapper, children);
};

/***/ }),

/***/ "./src/scripts/modules/types/helpers/edit_buttons.js":
/*!***********************************************************!*\
  !*** ./src/scripts/modules/types/helpers/edit_buttons.js ***!
  \***********************************************************/
/*! exports provided: createEditBtns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEditBtns", function() { return createEditBtns; });
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! element-r */ "../Element-R/build/elementr.min.js");
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_r__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _create_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create_icon */ "./src/scripts/modules/types/helpers/create_icon.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils */ "./src/scripts/utils/index.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }




var div = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].div,
    style = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].style;

var btnStyles = function btnStyles() {
  var stylId = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["uuid"])();
  var classes = {
    wrapper: "wrapper-".concat(stylId),
    btns: "btns-".concat(stylId)
  };
  var styles = style("\n    div.edit-btns-wrapper.".concat(classes.wrapper, " {\n      position: relative;\n    }\n    div.edit-btns-wrapper.").concat(classes.wrapper, " > div.").concat(classes.btns, " {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n  "));
  return {
    classes: classes,
    styles: styles
  };
};

var btnTypes = {
  edit: 'pen',
  drag: 'hand-point-up',
  "delete": 'trash-alt'
};

var buildIcon = function buildIcon(action, type, id) {
  return action ? Object(_create_icon__WEBPACK_IMPORTED_MODULE_1__["createIcon"])(btnTypes[type], "".concat(type[0].toUpperCase()).concat(type.slice(1)), {
    icon: {
      id: id,
      onclick: action
    }
  }) : '';
};

var buildActions = function buildActions(id, props) {
  return Object.keys(btnTypes).reduce(function (actions, key) {
    props[key] && actions.push(buildIcon(props[key], key, id));
    return actions;
  }, []);
};

var createEditBtns = function createEditBtns() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  if (!props.id) return [];
  var id = props.id;

  var _btnStyles = btnStyles(id),
      classes = _btnStyles.classes,
      styles = _btnStyles.styles;

  return [styles, div({
    className: "".concat(classes.wrapper, " edit-btns-wrapper")
  }, [div({
    className: "".concat(classes.btns, " edit-btns")
  }, _toConsumableArray(buildActions(id, props)))])];
};

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3R5cGVzL2hlbHBlcnMvY3JlYXRlX2ljb24uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3NjcmlwdHMvbW9kdWxlcy90eXBlcy9oZWxwZXJzL2VkaXRfYnV0dG9ucy5qcyJdLCJuYW1lcyI6WyJkaXYiLCJlbGVtZW50cyIsInNwYW4iLCJhIiwic3R5bGUiLCJpY29uU3R5bGVzIiwic3R5bElkIiwidXVpZCIsImNsYXNzZXMiLCJ3cmFwcGVyIiwiaWNvbiIsInRleHQiLCJzdHlsZXMiLCJjcmVhdGVJY29uIiwibmFtZSIsImV4dHJhUHJvcHMiLCJwcm9wcyIsImNsYXNzTmFtZSIsImhyZWYiLCJ0aXRsZSIsImNoaWxkcmVuIiwiYnRuU3R5bGVzIiwiYnRucyIsImJ0blR5cGVzIiwiZWRpdCIsImRyYWciLCJidWlsZEljb24iLCJhY3Rpb24iLCJ0eXBlIiwiaWQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwib25jbGljayIsImJ1aWxkQWN0aW9ucyIsIk9iamVjdCIsImtleXMiLCJyZWR1Y2UiLCJhY3Rpb25zIiwia2V5IiwicHVzaCIsImNyZWF0ZUVkaXRCdG5zIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtJQUNRQSxHLEdBQXlCQyxrRCxDQUF6QkQsRztJQUFLRSxJLEdBQW9CRCxrRCxDQUFwQkMsSTtJQUFNQyxDLEdBQWNGLGtELENBQWRFLEM7SUFBR0MsSyxHQUFXSCxrRCxDQUFYRyxLOztBQUV0QixJQUFNQyxVQUFVLEdBQUcsU0FBYkEsVUFBYSxHQUFNO0FBQ3ZCLE1BQU1DLE1BQU0sR0FBR0MsbURBQUksRUFBbkI7QUFFQSxNQUFNQyxPQUFPLEdBQUc7QUFDZEMsV0FBTyxvQkFBYUgsTUFBYixDQURPO0FBRWRJLFFBQUksaUJBQVVKLE1BQVYsQ0FGVTtBQUdkSyxRQUFJLGlCQUFVTCxNQUFWO0FBSFUsR0FBaEI7QUFNQSxNQUFNTSxNQUFNLEdBQUdSLEtBQUssK0JBQ0ZJLE9BQU8sQ0FBQ0MsT0FETixrREFJRkQsT0FBTyxDQUFDQyxPQUpOLGtCQUlxQkQsT0FBTyxDQUFDRSxJQUo3QixrREFPRkYsT0FBTyxDQUFDQyxPQVBOLGtCQU9xQkQsT0FBTyxDQUFDRSxJQVA3QiwyQkFPa0RGLE9BQU8sQ0FBQ0csSUFQMUQsMkJBQXBCO0FBWUEsU0FBTztBQUFFSCxXQUFPLEVBQVBBLE9BQUY7QUFBV0ksVUFBTSxFQUFOQTtBQUFYLEdBQVA7QUFDRCxDQXRCRDs7QUF5Qk8sSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0MsSUFBRCxFQUFPSCxJQUFQLEVBQStCO0FBQUEsTUFBbEJJLFVBQWtCLHVFQUFQLEVBQU87O0FBQUEsb0JBQzNCVixVQUFVLEVBRGlCO0FBQUEsTUFDL0NHLE9BRCtDLGVBQy9DQSxPQUQrQztBQUFBLE1BQ3RDSSxNQURzQyxlQUN0Q0EsTUFEc0M7O0FBR3ZELE1BQU1JLEtBQUssR0FBRztBQUNaUCxXQUFPO0FBQ0xRLGVBQVMseUJBQWtCVCxPQUFPLENBQUNDLE9BQTFCO0FBREosT0FFRk0sVUFBVSxDQUFDTixPQUZULENBREs7QUFLWkMsUUFBSTtBQUNGTyxlQUFTLGlCQUFVSCxJQUFWLG9CQUF3QkEsSUFBeEIsY0FBZ0NOLE9BQU8sQ0FBQ0UsSUFBeEMsQ0FEUDtBQUVGUSxVQUFJLEVBQUUscUJBRko7QUFHRkMsV0FBSyxFQUFFUixJQUFJLElBQUlHO0FBSGIsT0FJQ0MsVUFBVSxDQUFDTCxJQUpaLENBTFE7QUFXWkMsUUFBSTtBQUNGTSxlQUFTLHNCQUFlVCxPQUFPLENBQUNHLElBQXZCO0FBRFAsT0FFQ0ksVUFBVSxDQUFDSixJQUZaO0FBWFEsR0FBZDtBQWlCQSxNQUFNUyxRQUFRLEdBQUdULElBQUksR0FDakIsQ0FBRUMsTUFBRixFQUFVVCxDQUFDLENBQUNhLEtBQUssQ0FBQ04sSUFBUCxFQUFhUixJQUFJLENBQUNjLEtBQUssQ0FBQ0wsSUFBUCxFQUFhQSxJQUFiLENBQWpCLENBQVgsQ0FEaUIsR0FFakIsQ0FBRUMsTUFBRixFQUFVVCxDQUFDLENBQUNhLEtBQUssQ0FBQ04sSUFBUCxDQUFYLENBRko7QUFHQSxTQUFPUixJQUFJLENBQUNjLEtBQUssQ0FBQ1AsT0FBUCxFQUFnQlcsUUFBaEIsQ0FBWDtBQUNELENBeEJNLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDN0JQO0FBQ0E7QUFDQTtJQUNRcEIsRyxHQUFnQkMsa0QsQ0FBaEJELEc7SUFBS0ksSyxHQUFXSCxrRCxDQUFYRyxLOztBQUViLElBQU1pQixTQUFTLEdBQUcsU0FBWkEsU0FBWSxHQUFNO0FBQ3RCLE1BQU1mLE1BQU0sR0FBR0MsbURBQUksRUFBbkI7QUFFQSxNQUFNQyxPQUFPLEdBQUc7QUFDZEMsV0FBTyxvQkFBYUgsTUFBYixDQURPO0FBRWRnQixRQUFJLGlCQUFVaEIsTUFBVjtBQUZVLEdBQWhCO0FBS0EsTUFBTU0sTUFBTSxHQUFHUixLQUFLLHVDQUNNSSxPQUFPLENBQUNDLE9BRGQsNkVBSU1ELE9BQU8sQ0FBQ0MsT0FKZCxvQkFJK0JELE9BQU8sQ0FBQ2MsSUFKdkMsOEVBQXBCO0FBV0EsU0FBTztBQUFFZCxXQUFPLEVBQVBBLE9BQUY7QUFBV0ksVUFBTSxFQUFOQTtBQUFYLEdBQVA7QUFDRCxDQXBCRDs7QUFzQkEsSUFBTVcsUUFBUSxHQUFHO0FBQ2ZDLE1BQUksRUFBRSxLQURTO0FBRWZDLE1BQUksRUFBRSxlQUZTO0FBR2YsWUFBUTtBQUhPLENBQWpCOztBQU1BLElBQU1DLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUNDLE1BQUQsRUFBU0MsSUFBVCxFQUFlQyxFQUFmLEVBQXNCO0FBQ3RDLFNBQU9GLE1BQU0sR0FDVGQsK0RBQVUsQ0FDUlUsUUFBUSxDQUFDSyxJQUFELENBREEsWUFFTEEsSUFBSSxDQUFDLENBQUQsQ0FBSixDQUFRRSxXQUFSLEVBRkssU0FFbUJGLElBQUksQ0FBQ0csS0FBTCxDQUFXLENBQVgsQ0FGbkIsR0FHUjtBQUFFckIsUUFBSSxFQUFFO0FBQUVtQixRQUFFLEVBQUZBLEVBQUY7QUFBTUcsYUFBTyxFQUFFTDtBQUFmO0FBQVIsR0FIUSxDQURELEdBTVQsRUFOSjtBQU9ELENBUkQ7O0FBVUEsSUFBTU0sWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0osRUFBRCxFQUFLYixLQUFMO0FBQUEsU0FDbkJrQixNQUFNLENBQ0hDLElBREgsQ0FDUVosUUFEUixFQUVHYSxNQUZILENBRVUsVUFBQ0MsT0FBRCxFQUFVQyxHQUFWLEVBQWtCO0FBQ3hCdEIsU0FBSyxDQUFDc0IsR0FBRCxDQUFMLElBQWNELE9BQU8sQ0FBQ0UsSUFBUixDQUFhYixTQUFTLENBQUVWLEtBQUssQ0FBQ3NCLEdBQUQsQ0FBUCxFQUFjQSxHQUFkLEVBQW1CVCxFQUFuQixDQUF0QixDQUFkO0FBQ0EsV0FBT1EsT0FBUDtBQUNELEdBTEgsRUFLSyxFQUxMLENBRG1CO0FBQUEsQ0FBckI7O0FBU08sSUFBTUcsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixHQUFjO0FBQUEsTUFBYnhCLEtBQWEsdUVBQVAsRUFBTztBQUUxQyxNQUFHLENBQUNBLEtBQUssQ0FBQ2EsRUFBVixFQUFjLE9BQU8sRUFBUDtBQUY0QixNQUlsQ0EsRUFKa0MsR0FJM0JiLEtBSjJCLENBSWxDYSxFQUprQzs7QUFBQSxtQkFLZFIsU0FBUyxDQUFDUSxFQUFELENBTEs7QUFBQSxNQUtsQ3JCLE9BTGtDLGNBS2xDQSxPQUxrQztBQUFBLE1BS3pCSSxNQUx5QixjQUt6QkEsTUFMeUI7O0FBTzFDLFNBQU8sQ0FDTEEsTUFESyxFQUVMWixHQUFHLENBQUM7QUFBRWlCLGFBQVMsWUFBS1QsT0FBTyxDQUFDQyxPQUFiO0FBQVgsR0FBRCxFQUF3RCxDQUN6RFQsR0FBRyxDQUFDO0FBQUVpQixhQUFTLFlBQUtULE9BQU8sQ0FBQ2MsSUFBYjtBQUFYLEdBQUQscUJBQ0VXLFlBQVksQ0FBQ0osRUFBRCxFQUFLYixLQUFMLENBRGQsRUFEc0QsQ0FBeEQsQ0FGRSxDQUFQO0FBUUQsQ0FmTSxDIiwiZmlsZSI6InR5cGUtaGVscGVycy1lZGl0X2J1dHRvbnMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXIsIGVsZW1lbnRzIH0gZnJvbSAnZWxlbWVudC1yJ1xuaW1wb3J0IHsgdXVpZCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJ1xuY29uc3QgeyBkaXYsIHNwYW4sIGEsIHN0eWxlICB9ID0gZWxlbWVudHNcblxuY29uc3QgaWNvblN0eWxlcyA9ICgpID0+IHtcbiAgY29uc3Qgc3R5bElkID0gdXVpZCgpXG4gIFxuICBjb25zdCBjbGFzc2VzID0ge1xuICAgIHdyYXBwZXI6IGB3cmFwcGVyLSR7c3R5bElkfWAsXG4gICAgaWNvbjogYGljb24tJHtzdHlsSWR9YCxcbiAgICB0ZXh0OiBgdGV4dC0ke3N0eWxJZH1gXG4gIH1cbiAgXG4gIGNvbnN0IHN0eWxlcyA9IHN0eWxlKGBcbiAgICAuaWNvbi13cmFwcGVyLiR7Y2xhc3Nlcy53cmFwcGVyfSB7XG4gICAgICBcbiAgICB9XG4gICAgLmljb24td3JhcHBlci4ke2NsYXNzZXMud3JhcHBlcn0gPiBhLiR7Y2xhc3Nlcy5pY29ufSB7XG4gICAgICBcbiAgICB9XG4gICAgLmljb24td3JhcHBlci4ke2NsYXNzZXMud3JhcHBlcn0gPiBhLiR7Y2xhc3Nlcy5pY29ufSA+IC5pY29uLXRleHQuJHtjbGFzc2VzLnRleHR9IHtcbiAgICAgIFxuICAgIH1cbiAgYClcblxuICByZXR1cm4geyBjbGFzc2VzLCBzdHlsZXMgfVxufVxuXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVJY29uID0gKG5hbWUsIHRleHQsIGV4dHJhUHJvcHM9e30pID0+IHtcbiAgY29uc3QgeyBjbGFzc2VzLCBzdHlsZXMgfSA9IGljb25TdHlsZXMoKVxuICBcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgd3JhcHBlcjoge1xuICAgICAgY2xhc3NOYW1lOiBgaWNvbi13cmFwcGVyICR7Y2xhc3Nlcy53cmFwcGVyfWAsXG4gICAgICAuLi5leHRyYVByb3BzLndyYXBwZXJcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGNsYXNzTmFtZTogYGljb24tJHtuYW1lfSBmYSBmYS0ke25hbWV9ICR7Y2xhc3Nlcy5pY29ufWAsXG4gICAgICBocmVmOiAnamF2YXNjcmlwdDp2b2lkKDApOycsXG4gICAgICB0aXRsZTogdGV4dCB8fCBuYW1lLFxuICAgICAgLi4uZXh0cmFQcm9wcy5pY29uXG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICBjbGFzc05hbWU6IGBpY29uLXRleHQgJHtjbGFzc2VzLnRleHR9YCxcbiAgICAgIC4uLmV4dHJhUHJvcHMudGV4dFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNoaWxkcmVuID0gdGV4dFxuICAgID8gWyBzdHlsZXMsIGEocHJvcHMuaWNvbiwgc3Bhbihwcm9wcy50ZXh0LCB0ZXh0KSkgXVxuICAgIDogWyBzdHlsZXMsIGEocHJvcHMuaWNvbikgXVxuICByZXR1cm4gc3Bhbihwcm9wcy53cmFwcGVyLCBjaGlsZHJlbiApXG59IiwiaW1wb3J0IHsgZXIsIGVsZW1lbnRzIH0gZnJvbSAnZWxlbWVudC1yJ1xuaW1wb3J0IHsgY3JlYXRlSWNvbiB9IGZyb20gJy4vY3JlYXRlX2ljb24nXG5pbXBvcnQgeyB1dWlkIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMnXG5jb25zdCB7IGRpdiwgc3R5bGUgIH0gPSBlbGVtZW50c1xuXG5jb25zdCBidG5TdHlsZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHN0eWxJZCA9IHV1aWQoKVxuICBcbiAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICB3cmFwcGVyOiBgd3JhcHBlci0ke3N0eWxJZH1gLFxuICAgIGJ0bnM6IGBidG5zLSR7c3R5bElkfWAsXG4gIH1cbiAgXG4gIGNvbnN0IHN0eWxlcyA9IHN0eWxlKGBcbiAgICBkaXYuZWRpdC1idG5zLXdyYXBwZXIuJHtjbGFzc2VzLndyYXBwZXJ9IHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG4gICAgZGl2LmVkaXQtYnRucy13cmFwcGVyLiR7Y2xhc3Nlcy53cmFwcGVyfSA+IGRpdi4ke2NsYXNzZXMuYnRuc30ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgfVxuICBgKVxuXG4gIHJldHVybiB7IGNsYXNzZXMsIHN0eWxlcyB9XG59XG5cbmNvbnN0IGJ0blR5cGVzID0ge1xuICBlZGl0OiAncGVuJyxcbiAgZHJhZzogJ2hhbmQtcG9pbnQtdXAnLFxuICBkZWxldGU6ICd0cmFzaC1hbHQnLFxufVxuXG5jb25zdCBidWlsZEljb24gPSAoYWN0aW9uLCB0eXBlLCBpZCkgPT4ge1xuICByZXR1cm4gYWN0aW9uXG4gICAgPyBjcmVhdGVJY29uKFxuICAgICAgICBidG5UeXBlc1t0eXBlXSxcbiAgICAgICAgYCR7dHlwZVswXS50b1VwcGVyQ2FzZSgpfSR7dHlwZS5zbGljZSgxKX1gLFxuICAgICAgICB7IGljb246IHsgaWQsIG9uY2xpY2s6IGFjdGlvbiB9IH1cbiAgICAgIClcbiAgICA6ICcnXG59XG5cbmNvbnN0IGJ1aWxkQWN0aW9ucyA9IChpZCwgcHJvcHMpID0+IChcbiAgT2JqZWN0XG4gICAgLmtleXMoYnRuVHlwZXMpXG4gICAgLnJlZHVjZSgoYWN0aW9ucywga2V5KSA9PiB7XG4gICAgICBwcm9wc1trZXldICYmIGFjdGlvbnMucHVzaChidWlsZEljb24oIHByb3BzW2tleV0sIGtleSwgaWQgKSlcbiAgICAgIHJldHVybiBhY3Rpb25zXG4gICAgfSwgW10pXG4pXG5cbmV4cG9ydCBjb25zdCBjcmVhdGVFZGl0QnRucyA9IChwcm9wcz17fSkgPT4ge1xuICBcbiAgaWYoIXByb3BzLmlkKSByZXR1cm4gW11cblxuICBjb25zdCB7IGlkIH0gPSBwcm9wc1xuICBjb25zdCB7IGNsYXNzZXMsIHN0eWxlcyB9ID0gYnRuU3R5bGVzKGlkKVxuXG4gIHJldHVybiBbXG4gICAgc3R5bGVzLFxuICAgIGRpdih7IGNsYXNzTmFtZTogYCR7Y2xhc3Nlcy53cmFwcGVyfSBlZGl0LWJ0bnMtd3JhcHBlcmAgfSwgW1xuICAgICAgZGl2KHsgY2xhc3NOYW1lOiBgJHtjbGFzc2VzLmJ0bnN9IGVkaXQtYnRuc2AgfSwgW1xuICAgICAgICAuLi5idWlsZEFjdGlvbnMoaWQsIHByb3BzKVxuICAgICAgXSlcbiAgICBdKVxuICBdXG59XG4iXSwic291cmNlUm9vdCI6IiJ9