((typeof self !== 'undefined' ? self : this)["webpackJsonp_name_"] = (typeof self !== 'undefined' ? self : this)["webpackJsonp_name_"] || []).push([["type-helpers"],{

/***/ "./src/scripts/modules/types/helpers/create_icon.js":
/*!**********************************************************!*\
  !*** ./src/scripts/modules/types/helpers/create_icon.js ***!
  \**********************************************************/
/*! exports provided: createIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createIcon", function() { return createIcon; });
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! element-r */ "../Element-R/build/elementr.min.js");
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_r__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../utils */ "./src/scripts/utils/index.js");
function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var div = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].div,
    span = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].span,
    a = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].a,
    style = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].style;

var iconStyles = function iconStyles() {
  var stylId = Object(_utils__WEBPACK_IMPORTED_MODULE_1__["uuid"])();
  var classes = {
    wrapper: "wrapper-".concat(stylId),
    icon: "icon-".concat(stylId),
    text: "text-".concat(stylId)
  };
  var styles = style("\n    .icon-wrapper.".concat(classes.wrapper, " {\n      \n    }\n    .icon-wrapper.").concat(classes.wrapper, " > a.").concat(classes.icon, " {\n      \n    }\n    .icon-wrapper.").concat(classes.wrapper, " > a.").concat(classes.icon, " > .icon-text.").concat(classes.text, " {\n      \n    }\n  "));
  return {
    classes: classes,
    styles: styles
  };
};

var createIcon = function createIcon(name, text) {
  var extraProps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

  var _iconStyles = iconStyles(),
      classes = _iconStyles.classes,
      styles = _iconStyles.styles;

  var props = {
    wrapper: _objectSpread({
      className: "icon-wrapper ".concat(classes.wrapper)
    }, extraProps.wrapper),
    icon: _objectSpread({
      className: "icon-".concat(name, " fa fa-").concat(name, " ").concat(classes.icon),
      href: 'javascript:void(0);',
      title: text || name
    }, extraProps.icon),
    text: _objectSpread({
      className: "icon-text ".concat(classes.text)
    }, extraProps.text)
  };
  var children = text ? [styles, a(props.icon, span(props.text, text))] : [styles, a(props.icon)];
  return span(props.wrapper, children);
};

/***/ }),

/***/ "./src/scripts/modules/types/helpers/edit_buttons.js":
/*!***********************************************************!*\
  !*** ./src/scripts/modules/types/helpers/edit_buttons.js ***!
  \***********************************************************/
/*! exports provided: createEditBtns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEditBtns", function() { return createEditBtns; });
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! element-r */ "../Element-R/build/elementr.min.js");
/* harmony import */ var element_r__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(element_r__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _create_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./create_icon */ "./src/scripts/modules/types/helpers/create_icon.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils */ "./src/scripts/utils/index.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }




var div = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].div,
    style = element_r__WEBPACK_IMPORTED_MODULE_0__["elements"].style;

var btnStyles = function btnStyles() {
  var stylId = Object(_utils__WEBPACK_IMPORTED_MODULE_2__["uuid"])();
  var classes = {
    wrapper: "wrapper-".concat(stylId),
    btns: "btns-".concat(stylId)
  };
  var styles = style("\n    div.edit-btns-wrapper.".concat(classes.wrapper, " {\n      position: relative;\n    }\n    div.edit-btns-wrapper.").concat(classes.wrapper, " > div.").concat(classes.btns, " {\n      position: absolute;\n      top: 0;\n      right: 0;\n    }\n  "));
  return {
    classes: classes,
    styles: styles
  };
};

var btnTypes = {
  edit: 'pen',
  drag: 'hand-point-up',
  "delete": 'trash-alt'
};

var buildIcon = function buildIcon(action, type, id) {
  return action ? Object(_create_icon__WEBPACK_IMPORTED_MODULE_1__["createIcon"])(btnTypes[type], "".concat(type[0].toUpperCase()).concat(type.slice(1)), {
    icon: {
      id: id,
      onclick: action
    }
  }) : '';
};

var buildActions = function buildActions(id, props) {
  return Object.keys(btnTypes).reduce(function (actions, key) {
    props[key] && actions.push(buildIcon(props[key], key, id));
    return actions;
  }, []);
};

var createEditBtns = function createEditBtns() {
  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  if (!props.id) return [];
  var id = props.id;

  var _btnStyles = btnStyles(id),
      classes = _btnStyles.classes,
      styles = _btnStyles.styles;

  return [styles, div({
    className: "".concat(classes.wrapper, " edit-btns-wrapper")
  }, [div({
    className: "".concat(classes.btns, " edit-btns")
  }, _toConsumableArray(buildActions(id, props)))])];
};

/***/ }),

/***/ "./src/scripts/modules/types/helpers/index.js":
/*!****************************************************!*\
  !*** ./src/scripts/modules/types/helpers/index.js ***!
  \****************************************************/
/*! exports provided: createIcon, createEditBtns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _create_icon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./create_icon */ "./src/scripts/modules/types/helpers/create_icon.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createIcon", function() { return _create_icon__WEBPACK_IMPORTED_MODULE_0__["createIcon"]; });

/* harmony import */ var _edit_buttons__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./edit_buttons */ "./src/scripts/modules/types/helpers/edit_buttons.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createEditBtns", function() { return _edit_buttons__WEBPACK_IMPORTED_MODULE_1__["createEditBtns"]; });




/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3R5cGVzL2hlbHBlcnMvY3JlYXRlX2ljb24uanMiLCJ3ZWJwYWNrOi8vW25hbWVdLy4vc3JjL3NjcmlwdHMvbW9kdWxlcy90eXBlcy9oZWxwZXJzL2VkaXRfYnV0dG9ucy5qcyIsIndlYnBhY2s6Ly9bbmFtZV0vLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3R5cGVzL2hlbHBlcnMvaW5kZXguanMiXSwibmFtZXMiOlsiZGl2IiwiZWxlbWVudHMiLCJzcGFuIiwiYSIsInN0eWxlIiwiaWNvblN0eWxlcyIsInN0eWxJZCIsInV1aWQiLCJjbGFzc2VzIiwid3JhcHBlciIsImljb24iLCJ0ZXh0Iiwic3R5bGVzIiwiY3JlYXRlSWNvbiIsIm5hbWUiLCJleHRyYVByb3BzIiwicHJvcHMiLCJjbGFzc05hbWUiLCJocmVmIiwidGl0bGUiLCJjaGlsZHJlbiIsImJ0blN0eWxlcyIsImJ0bnMiLCJidG5UeXBlcyIsImVkaXQiLCJkcmFnIiwiYnVpbGRJY29uIiwiYWN0aW9uIiwidHlwZSIsImlkIiwidG9VcHBlckNhc2UiLCJzbGljZSIsIm9uY2xpY2siLCJidWlsZEFjdGlvbnMiLCJPYmplY3QiLCJrZXlzIiwicmVkdWNlIiwiYWN0aW9ucyIsImtleSIsInB1c2giLCJjcmVhdGVFZGl0QnRucyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7SUFDUUEsRyxHQUF5QkMsa0QsQ0FBekJELEc7SUFBS0UsSSxHQUFvQkQsa0QsQ0FBcEJDLEk7SUFBTUMsQyxHQUFjRixrRCxDQUFkRSxDO0lBQUdDLEssR0FBV0gsa0QsQ0FBWEcsSzs7QUFFdEIsSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUN2QixNQUFNQyxNQUFNLEdBQUdDLG1EQUFJLEVBQW5CO0FBRUEsTUFBTUMsT0FBTyxHQUFHO0FBQ2RDLFdBQU8sb0JBQWFILE1BQWIsQ0FETztBQUVkSSxRQUFJLGlCQUFV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LENBZk0sQzs7Ozs7Ozs7Ozs7O0FDcERQO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEiLCJmaWxlIjoidHlwZS1oZWxwZXJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVyLCBlbGVtZW50cyB9IGZyb20gJ2VsZW1lbnQtcidcbmltcG9ydCB7IHV1aWQgfSBmcm9tICcuLi8uLi8uLi91dGlscydcbmNvbnN0IHsgZGl2LCBzcGFuLCBhLCBzdHlsZSAgfSA9IGVsZW1lbnRzXG5cbmNvbnN0IGljb25TdHlsZXMgPSAoKSA9PiB7XG4gIGNvbnN0IHN0eWxJZCA9IHV1aWQoKVxuICBcbiAgY29uc3QgY2xhc3NlcyA9IHtcbiAgICB3cmFwcGVyOiBgd3JhcHBlci0ke3N0eWxJZH1gLFxuICAgIGljb246IGBpY29uLSR7c3R5bElkfWAsXG4gICAgdGV4dDogYHRleHQtJHtzdHlsSWR9YFxuICB9XG4gIFxuICBjb25zdCBzdHlsZXMgPSBzdHlsZShgXG4gICAgLmljb24td3JhcHBlci4ke2NsYXNzZXMud3JhcHBlcn0ge1xuICAgICAgXG4gICAgfVxuICAgIC5pY29uLXdyYXBwZXIuJHtjbGFzc2VzLndyYXBwZXJ9ID4gYS4ke2NsYXNzZXMuaWNvbn0ge1xuICAgICAgXG4gICAgfVxuICAgIC5pY29uLXdyYXBwZXIuJHtjbGFzc2VzLndyYXBwZXJ9ID4gYS4ke2NsYXNzZXMuaWNvbn0gPiAuaWNvbi10ZXh0LiR7Y2xhc3Nlcy50ZXh0fSB7XG4gICAgICBcbiAgICB9XG4gIGApXG5cbiAgcmV0dXJuIHsgY2xhc3Nlcywgc3R5bGVzIH1cbn1cblxuXG5leHBvcnQgY29uc3QgY3JlYXRlSWNvbiA9IChuYW1lLCB0ZXh0LCBleHRyYVByb3BzPXt9KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3Nlcywgc3R5bGVzIH0gPSBpY29uU3R5bGVzKClcbiAgXG4gIGNvbnN0IHByb3BzID0ge1xuICAgIHdyYXBwZXI6IHtcbiAgICAgIGNsYXNzTmFtZTogYGljb24td3JhcHBlciAke2NsYXNzZXMud3JhcHBlcn1gLFxuICAgICAgLi4uZXh0cmFQcm9wcy53cmFwcGVyXG4gICAgfSxcbiAgICBpY29uOiB7XG4gICAgICBjbGFzc05hbWU6IGBpY29uLSR7bmFtZX0gZmEgZmEtJHtuYW1lfSAke2NsYXNzZXMuaWNvbn1gLFxuICAgICAgaHJlZjogJ2phdmFzY3JpcHQ6dm9pZCgwKTsnLFxuICAgICAgdGl0bGU6IHRleHQgfHwgbmFtZSxcbiAgICAgIC4uLmV4dHJhUHJvcHMuaWNvblxuICAgIH0sXG4gICAgdGV4dDoge1xuICAgICAgY2xhc3NOYW1lOiBgaWNvbi10ZXh0ICR7Y2xhc3Nlcy50ZXh0fWAsXG4gICAgICAuLi5leHRyYVByb3BzLnRleHRcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGlsZHJlbiA9IHRleHRcbiAgICA/IFsgc3R5bGVzLCBhKHByb3BzLmljb24sIHNwYW4ocHJvcHMudGV4dCwgdGV4dCkpIF1cbiAgICA6IFsgc3R5bGVzLCBhKHByb3BzLmljb24pIF1cbiAgcmV0dXJuIHNwYW4ocHJvcHMud3JhcHBlciwgY2hpbGRyZW4gKVxufSIsImltcG9ydCB7IGVyLCBlbGVtZW50cyB9IGZyb20gJ2VsZW1lbnQtcidcbmltcG9ydCB7IGNyZWF0ZUljb24gfSBmcm9tICcuL2NyZWF0ZV9pY29uJ1xuaW1wb3J0IHsgdXVpZCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJ1xuY29uc3QgeyBkaXYsIHN0eWxlICB9ID0gZWxlbWVudHNcblxuY29uc3QgYnRuU3R5bGVzID0gKCkgPT4ge1xuICBjb25zdCBzdHlsSWQgPSB1dWlkKClcbiAgXG4gIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgd3JhcHBlcjogYHdyYXBwZXItJHtzdHlsSWR9YCxcbiAgICBidG5zOiBgYnRucy0ke3N0eWxJZH1gLFxuICB9XG4gIFxuICBjb25zdCBzdHlsZXMgPSBzdHlsZShgXG4gICAgZGl2LmVkaXQtYnRucy13cmFwcGVyLiR7Y2xhc3Nlcy53cmFwcGVyfSB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuICAgIGRpdi5lZGl0LWJ0bnMtd3JhcHBlci4ke2NsYXNzZXMud3JhcHBlcn0gPiBkaXYuJHtjbGFzc2VzLmJ0bnN9IHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgIH1cbiAgYClcblxuICByZXR1cm4geyBjbGFzc2VzLCBzdHlsZXMgfVxufVxuXG5jb25zdCBidG5UeXBlcyA9IHtcbiAgZWRpdDogJ3BlbicsXG4gIGRyYWc6ICdoYW5kLXBvaW50LXVwJyxcbiAgZGVsZXRlOiAndHJhc2gtYWx0Jyxcbn1cblxuY29uc3QgYnVpbGRJY29uID0gKGFjdGlvbiwgdHlwZSwgaWQpID0+IHtcbiAgcmV0dXJuIGFjdGlvblxuICAgID8gY3JlYXRlSWNvbihcbiAgICAgICAgYnRuVHlwZXNbdHlwZV0sXG4gICAgICAgIGAke3R5cGVbMF0udG9VcHBlckNhc2UoKX0ke3R5cGUuc2xpY2UoMSl9YCxcbiAgICAgICAgeyBpY29uOiB7IGlkLCBvbmNsaWNrOiBhY3Rpb24gfSB9XG4gICAgICApXG4gICAgOiAnJ1xufVxuXG5jb25zdCBidWlsZEFjdGlvbnMgPSAoaWQsIHByb3BzKSA9PiAoXG4gIE9iamVjdFxuICAgIC5rZXlzKGJ0blR5cGVzKVxuICAgIC5yZWR1Y2UoKGFjdGlvbnMsIGtleSkgPT4ge1xuICAgICAgcHJvcHNba2V5XSAmJiBhY3Rpb25zLnB1c2goYnVpbGRJY29uKCBwcm9wc1trZXldLCBrZXksIGlkICkpXG4gICAgICByZXR1cm4gYWN0aW9uc1xuICAgIH0sIFtdKVxuKVxuXG5leHBvcnQgY29uc3QgY3JlYXRlRWRpdEJ0bnMgPSAocHJvcHM9e30pID0+IHtcbiAgXG4gIGlmKCFwcm9wcy5pZCkgcmV0dXJuIFtdXG5cbiAgY29uc3QgeyBpZCB9ID0gcHJvcHNcbiAgY29uc3QgeyBjbGFzc2VzLCBzdHlsZXMgfSA9IGJ0blN0eWxlcyhpZClcblxuICByZXR1cm4gW1xuICAgIHN0eWxlcyxcbiAgICBkaXYoeyBjbGFzc05hbWU6IGAke2NsYXNzZXMud3JhcHBlcn0gZWRpdC1idG5zLXdyYXBwZXJgIH0sIFtcbiAgICAgIGRpdih7IGNsYXNzTmFtZTogYCR7Y2xhc3Nlcy5idG5zfSBlZGl0LWJ0bnNgIH0sIFtcbiAgICAgICAgLi4uYnVpbGRBY3Rpb25zKGlkLCBwcm9wcylcbiAgICAgIF0pXG4gICAgXSlcbiAgXVxufVxuIiwiZXhwb3J0ICogZnJvbSAnLi9jcmVhdGVfaWNvbidcbmV4cG9ydCAqIGZyb20gJy4vZWRpdF9idXR0b25zJyJdLCJzb3VyY2VSb290IjoiIn0=