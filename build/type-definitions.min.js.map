{"version":3,"sources":["webpack://[name]/./src/scripts/modules/types/definitions/group/index.js","webpack://[name]/./src/scripts/modules/types/definitions/collection/sub_types/index.js","webpack://[name]/./src/scripts/modules/types/definitions/map/sub_types/index.js","webpack://[name]/./src/scripts/modules/types/definitions/number/sub_types/index.js","webpack://[name]/./src/scripts/modules/types/definitions/boolean/index.js","webpack://[name]/./src/scripts/modules/types/definitions/collection/index.js","webpack://[name]/./src/scripts/modules/types/definitions/empty/index.js","webpack://[name]/./src/scripts/modules/types/definitions/map/index.js","webpack://[name]/./src/scripts/modules/types/definitions/number/index.js","webpack://[name]/./src/scripts/modules/types/definitions/string/index.js","webpack://[name]/./src/scripts/modules/types/definitions/index.js","webpack://[name]/./src/scripts/modules/types/definitions/number/number.js","webpack://[name]/./src/scripts/modules/types/definitions/number/sub_types/float.js","webpack://[name]/./src/scripts/modules/types/definitions/number/sub_types/money.js","webpack://[name]/./src/scripts/modules/types/definitions/number/sub_types/percent.js","webpack://[name]/./src/scripts/modules/types/definitions/boolean/boolean.js","webpack://[name]/./src/scripts/modules/types/definitions/collection/collection.js","webpack://[name]/./src/scripts/modules/types/definitions/empty/empty.js","webpack://[name]/./src/scripts/modules/types/definitions/map/map.js"],"names":["getChildrenHt","refNode","Array","from","firstChild","children","reduce","height","child","scrollHeight","GroupType","config","_this","_classCallCheck","this","_getPrototypeOf","call","_defineProperty","_assertThisInitialized","e","Editor","stopPropagation","id","currentTarget","getAttribute","Values","DATA_TREE_ID","schema","update","open","store","isOpen","component","style","maxHeight","closedMaxHt","setTimeout","currentMaxHt","toggleSpeed","props","transRule","window","getComputedStyle","transition","speed","parseFloat","split","isNaN","concat","isRoot","rootHeader","document","getElementById","JT_ROOT_HEADER_ID","getTransSpeed","setOriginal","updated","clearObj","childrenHt","mode","Schema","MODES","EDIT","updateParentHeights","parent","ADD","matchType","EMPTY","isArray","value","key","length","add","_props$schema","keyType","keyText","error","notEditMode","classes","actions","onToggle","onAdd","List","_objectSpread","styles","wrapper","type","showLabel","valueEl","keyEdit","getActions","BaseType","__webpack_require__","r","__webpack_exports__","_float__WEBPACK_IMPORTED_MODULE_0__","d","_money__WEBPACK_IMPORTED_MODULE_1__","_percent__WEBPACK_IMPORTED_MODULE_2__","_boolean__WEBPACK_IMPORTED_MODULE_0__","_collection__WEBPACK_IMPORTED_MODULE_0__","_sub_types__WEBPACK_IMPORTED_MODULE_1__","_empty__WEBPACK_IMPORTED_MODULE_0__","_map__WEBPACK_IMPORTED_MODULE_0__","_number__WEBPACK_IMPORTED_MODULE_0__","_string__WEBPACK_IMPORTED_MODULE_0__","_base__WEBPACK_IMPORTED_MODULE_0__","_boolean__WEBPACK_IMPORTED_MODULE_1__","_empty__WEBPACK_IMPORTED_MODULE_2__","_collection__WEBPACK_IMPORTED_MODULE_3__","_map__WEBPACK_IMPORTED_MODULE_4__","_number__WEBPACK_IMPORTED_MODULE_5__","_string__WEBPACK_IMPORTED_MODULE_6__","types","boolean","BooleanType","collection","CollectionType","empty","EmptyType","map","MapType","number","NumberType","string","StringType","subTypes","collSubTypes","mapSubTypes","numberSubTypes","stringSubTypes","cleave","numeral","numeralThousandsGroupStyle","stripLeadingZeroes","numeralDecimalScale","Item","isNumber","CleaveType","newType","settings","FloatType","Number","MoneyType","delimiter","prefix","noImmediatePrefix","indexOf","PercentType","options","toString","_possibleConstructorReturn","_typeof","shouldDoDefault","remove","userEvents","onCancel","input","target","DATA_SCHEMA_KEY","undefined","original","expandOnChange","setWidth","onChange","Types","onTypeChange"],"mappings":"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","file":"type-definitions.min.js","sourcesContent":["import BaseType from '../base'\nimport {\n  typesOverride,\n  capitalize,\n  clearObj,\n  isObj,\n  updateParentHeights,\n} from 'jTUtils'\nimport { Schema, Values } from 'jTConstants'\nimport { List } from '../../components'\n\nconst getChildrenHt = refNode => {\n  return Array\n    .from(refNode.firstChild.children)\n    .reduce((height, child) => {\n      height+= child.scrollHeight || 0\n      return height\n    }, 0)\n}\n\nclass GroupType extends BaseType {\n\n  constructor(config){\n    super(config)\n  }\n\n  store = {}\n\n  onToggle = (e, Editor) => {\n    e.stopPropagation()\n    const id = e.currentTarget.getAttribute(Values.DATA_TREE_ID)\n    if(!id) return\n\n    const schema = Editor.schema(id)\n    // If no schema just return, cause we cant update\n    if(!schema) return\n\n    const update = { open: !schema.open }\n\n    // --- Does the opposite of the didUpdate method below --- //\n    // Check if the store is open, but the update is changing to closed\n    if(this.store.isOpen && !update.open){\n      // If true, close the object before the update is called\n      this.store.isOpen = false\n      \n      const refNode = schema.component\n      // First update the maxHeight, to `close the object`\n      refNode.style.maxHeight = this.store.closedMaxHt\n      // Use a timeout to wait until the object is closed\n      return setTimeout(() => {\n        // Then update the store, can call the update method\n        // Now the object have been closed\n        this.store.currentMaxHt = this.store.closedMaxHt\n        Editor.update(id, update)\n      }, this.toggleSpeed || 500)\n    }\n\n    Editor.update(id, update)\n  }\n  \n  getTransSpeed = refNode => {\n    refNode = refNode || props.schema.component\n\n    if(!refNode) return\n\n    const transRule = window.getComputedStyle(refNode).transition\n    if(!transRule) return\n    // Convert the transition rule speed into milliseconds\n    const speed = parseFloat(transRule.split(' ')[1]) * 1000\n    if(typeof speed !== 'number' || isNaN(speed)) return\n    this.toggleSpeed = speed\n  }\n  \n  componentDidMount = (props, Editor) => {\n    const refNode = props.schema.component\n    if(!refNode || refNode.style.maxHeight) return\n\n    // Set the currentMax height\n    this.store.currentMaxHt = `${refNode.scrollHeight}px`\n    this.store.closedMaxHt = this.store.currentMaxHt\n    refNode.style.maxHeight = this.store.currentMaxHt\n\n    // If it's the root node, it defaults to open\n    if(props.schema.isRoot && props.schema.open){\n      this.store.isOpen = true\n    // So use the header child height to set the default closed height\n      const rootHeader = document.getElementById(Values.JT_ROOT_HEADER_ID)\n      if(!rootHeader) return\n      this.store.closedMaxHt = `${rootHeader.scrollHeight}px`\n\n    }\n\n    this.getTransSpeed(refNode)\n  }\n\n  componentDidUpdate = (props, Editor) => {\n    const { schema } = props\n\n    this.setOriginal(schema)\n\n    // Clear out the updated, because the component just updated\n    this.updated && clearObj(this.updated)\n    \n    // ----- height update ----- //\n    // If no comp || not open just return\n    const refNode = schema.component\n    if(!refNode) return\n    \n    const childrenHt = getChildrenHt(refNode)\n\n    // --- Does the opposite of the toggle method above --- //\n    // Check if the schema is open, but the local store is closed\n    if(!this.store.isOpen && schema.open){\n    // If true, set the store to open, and update the maxHeight of the element\n      this.store.isOpen = true\n      this.store.currentMaxHt = `${childrenHt}px`\n      // Only set in open, so it keeps the height when about to close\n      refNode.style.maxHeight = this.store.currentMaxHt\n    }\n\n    // If the schema is open, update all the parent heights\n    // This ensures the parent height does not cut off the children\n    // when a child grows larger\n    (schema.mode === Schema.MODES.EDIT || schema.open) &&\n      updateParentHeights(schema, childrenHt)\n  }\n\n\n  onAdd = (e, Editor) => {\n    e.stopPropagation()\n\n    const id = e.currentTarget.getAttribute(Values.DATA_TREE_ID)\n    const schema = id && Editor.schema(id)\n    const update = {\n      parent: schema,\n      mode: Schema.MODES.ADD,\n      matchType: Schema.EMPTY,\n    }\n\n    if(Array.isArray(schema.value))\n      update.key = schema.value.length\n    \n    schema && Editor.add({\n      parent: schema,\n      mode: Schema.MODES.ADD,\n      matchType: Schema.EMPTY,\n    })\n  }\n\n  render = props => {\n    const {\n      schema: {\n        id, key, value, mode, matchType, keyType, keyText, isRoot, open, error\n      },\n      children,\n    } = props\n    const notEditMode = mode !== Schema.MODES.EDIT\n    const classes = open && `list-open` || ''\n    let actions = {\n      onToggle: notEditMode && this.onToggle,\n      onAdd: open && notEditMode && this.onAdd\n    }\n\n    return List({\n      id,\n      key,\n      value,\n      mode,\n      classes,\n      isRoot,\n      children,\n      keyText,\n      error,\n      keyType: keyType || 'text',\n      isOpen: open,\n      styles: {\n        // Always set the height to be the currentMax height\n        // When opened, height will be updated in componentDidUpdate\n        wrapper: { maxHeight: this.store.currentMaxHt },\n      },\n      type: matchType,\n      showLabel: true,\n      valueEl: 'select',\n      keyEdit: !props.schema.parent || !Array.isArray(props.schema.parent.value),\n      ...this.getActions(mode, actions),\n    })\n  }\n\n}\n\nexport default GroupType","export {}","export {}","import FloatType from './float'\nimport MoneyType from './money'\nimport PercentType from './percent'\n\nexport {\n  FloatType,\n  MoneyType,\n  PercentType\n}","import BooleanType from  './boolean'\n\nexport {\n  BooleanType,\n}","import CollectionType from  './collection'\nimport * as collSubTypes from './sub_types'\n\nexport {\n  CollectionType,\n  collSubTypes\n}","import EmptyType from  './empty'\n\nexport {\n  EmptyType\n}","import MapType from  './map'\nimport * as mapSubTypes from './sub_types'\n\nexport {\n  MapType,\n  mapSubTypes\n}","import NumberType from  './number'\nimport * as numberSubTypes from './sub_types'\n\nexport {\n  NumberType,\n  numberSubTypes\n}","import StringType from  './string'\nimport * as stringSubTypes from './sub_types'\n\nexport {\n  StringType,\n  stringSubTypes\n}\n","import BaseType from  './base'\nimport { BooleanType } from  './boolean'\nimport { EmptyType } from  './empty'\nimport { CollectionType, collSubTypes } from  './collection'\nimport { MapType, mapSubTypes } from  './map'\nimport { NumberType, numberSubTypes  } from  './number'\nimport { StringType, stringSubTypes } from  './string'\n\nconst types = {\n  boolean: BooleanType,\n  collection: CollectionType,\n  empty: EmptyType,\n  map: MapType,\n  number: NumberType,\n  string: StringType,\n}\nconst subTypes = {\n  collection: collSubTypes,\n  map: mapSubTypes,\n  number: numberSubTypes,\n  string: stringSubTypes,\n}\n\n\nexport default {\n  BaseType,\n  types,\n  subTypes\n}","import CleaveType from '../cleave'\nimport { Item } from '../../components'\nimport Cleave from 'cleave.js'\nimport { clearObj } from 'jTUtils'\nimport { Values } from 'jTConstants'\n\nclass NumberType extends CleaveType {\n\n  static priority = 1\n  static eval = (value) => (typeof value === 'number')\n  static defaultValue = (newType, schema, settings) => 0\n  \n  constructor(config){\n    super({\n      ...config,\n      cleave: {\n        numeral: true,\n        numeralThousandsGroupStyle: 'none',\n        stripLeadingZeroes: false,\n        numeralDecimalScale: 0,\n        ...(config || {}).cleave,\n      }\n    })\n  }\n\n  render = props => {\n    const { schema: { id, key, value, mode, matchType, keyType, parent, error } } = props\n\n    return Item({\n      id,\n      key,\n      value,\n      mode,\n      error,\n      type: matchType,\n      showLabel: true,\n      cleave: true,\n      isNumber: true,\n      keyEdit: !parent || !Array.isArray(parent.value),\n      keyType: keyType || 'text',\n      ...this.getActions(mode)\n    })\n  }\n  \n}\n\nexport default NumberType","import NumberType from '../number'\nimport { Item } from '../../../components'\n\nclass FloatType extends NumberType {\n\n  static priority = 2\n  static defaultValue = 0.0\n  static eval = (value) => (\n    typeof value === 'number' &&\n      Number(value) === value && \n      value % 1 !== 0\n  )\n\n  constructor(config){\n    super({\n      ...config,\n      cleave: {\n        numeral: true,\n        stripLeadingZeroes: false,\n        numeralThousandsGroupStyle: 'none',\n        numeralDecimalScale: 8,\n        ...(config || {}).cleave,\n      }\n    })\n  }\n\n  render = props => {\n    const { schema: { id, key, value, mode, matchType, keyType, parent, error } } = props\n    return Item({\n      id,\n      key,\n      value,\n      mode,\n      error,\n      type: matchType,\n      showLabel: true,\n      cleave: true,\n      isNumber: true,\n      keyEdit: !parent || !Array.isArray(parent.value),\n      keyType: keyType || 'text',\n      ...this.getActions(mode)\n    })\n  }\n\n}\n\nexport default FloatType","import NumberType from '../number'\nimport { Item } from '../../../components'\n\nclass MoneyType extends NumberType {\n\n  static priority = 2\n  static defaultValue = '$0'\n  static eval = value => {\n    return typeof value === 'string' && value.indexOf('$') !== -1\n  }\n  \n  constructor(config){\n    super({\n      ...config,\n      cleave: {\n        numeral: true,\n        delimiter: ',',\n        stripLeadingZeroes: true,\n        numeralDecimalScale: 2,\n        prefix: '$',\n        noImmediatePrefix: true,\n        ...(config || {}).cleave,\n      }\n    })\n  }\n\n  render = props => {\n    const { schema: { id, key, value, mode, matchType, keyType, parent, error } } = props\n    return Item({\n      id,\n      key,\n      value,\n      mode,\n      error,\n      type: matchType,\n      showLabel: true,\n      cleave: true,\n      keyEdit: !parent || !Array.isArray(parent.value),\n      keyType: keyType || 'text',\n      ...this.getActions(mode)\n    })\n  }\n\n}\n\nexport default MoneyType","import NumberType from '../number'\nimport { Item } from '../../../components'\n\nclass PercentType extends NumberType {\n  \n  static priority = 2\n  static defaultValue = '%0'\n  static eval = value => {\n    return typeof value === 'string' && value.indexOf('%') !== -1\n  }\n\n\n  constructor(config){\n    super({\n      ...config,\n      cleave: {\n        numeral: true,\n        numeralThousandsGroupStyle: 'none',\n        stripLeadingZeroes: false,\n        numeralDecimalScale: 2,\n        prefix: '%',\n        noImmediatePrefix: true,\n        ...(config || {}).cleave,\n      }\n    })\n  }\n\n  render = props => {\n    const { schema: { id, key, value, mode, matchType, keyType, parent, error } } = props\n    return Item({\n      id,\n      key,\n      value,\n      mode,\n      error,\n      type: matchType,\n      showLabel: true,\n      cleave: true,\n      keyEdit: !parent || !Array.isArray(parent.value),\n      keyType: keyType || 'text',\n      ...this.getActions(mode)\n    })\n  }\n\n}\n\nexport default PercentType","import BaseType from '../base'\nimport { Item } from '../../components'\n\nclass BooleanType extends BaseType {\n\n  static priority = 1\n  static eval = (value) => (typeof value === 'boolean')\n  static defaultValue = () => true\n  \n  constructor(config){\n    super({ ...config })\n  }\n\n  render = props => {\n    const { schema: { id, key, value, mode, matchType, keyType, parent, error } } = props\n    const options = Array.isArray(this.config.options)\n      ? this.config.options\n      : [ 'true', 'false']\n\n    return Item({\n      id,\n      key,\n      value: value.toString(),\n      mode,\n      options,\n      error,\n      type: matchType,\n      showLabel: true,\n      valueEl: 'select',\n      keyEdit: !parent || !Array.isArray(parent.value),\n      keyType: keyType || 'text',\n      ...this.getActions(mode)\n    })\n  }\n  \n}\n\nexport default BooleanType","import GroupType from '../group'\n\nclass CollectionType extends GroupType {\n  \n  static priority = 1\n  static eval = value => typeof value === 'object' && Array.isArray(value)\n  static defaultValue = (newType, schema, settings) => []\n\n  constructor(config){\n    super({ ...config })\n  }\n\n}\n\n\n\nexport default CollectionType","import BaseType from '../base'\nimport { Item } from '../../components'\nimport { Values, Schema } from 'jTConstants'\n\nclass EmptyType extends BaseType {\n\n  static priority = 1\n  static eval = (value) => (value === undefined)\n  static defaultValue = (newType, schema, settings) => undefined\n\n  constructor(config){\n    super({ ...config })\n  }\n\n  onCancel = (e, Editor) => {\n    const update = { remove: true }\n    const id = this.shouldDoDefault( e, update, Editor, this.userEvents.onCancel )\n    id && Editor.remove(id)\n  }\n\n  onTypeChange = (e, Editor) => {\n    const input =  e.target || e.currentTarget\n    const value = input.value\n    const key = input.getAttribute(Values.DATA_SCHEMA_KEY)\n\n    if(\n      (value === undefined || key === undefined) ||\n      (this.original[key] && this.original[key] === value)\n    ) return\n\n    value &&  this.config.expandOnChange !== false && this.setWidth(input)\n    const update = { matchType: value }\n\n    this.userEvents.onChange(e, update, this.original.id, Editor) !== false &&\n      this.original.id && \n      Editor.update(this.original.id, update)\n\n  }\n\n  render = props => {\n    const {\n      schema: { id, key, value, mode, matchType, keyType, parent, error },\n      settings: { Editor: { Types } }\n    } = props\n\n    return Item({\n      id,\n      value: '',\n      Types,\n      error,\n      key: Array.isArray(parent.value) ? key : '',\n      type: Schema.EMPTY,\n      showLabel: true,\n      keyType: keyType || 'text',\n      keyEdit: !parent || !Array.isArray(parent.value),\n      mode: Schema.MODES.EDIT,\n      ...this.getActions(Schema.MODES.EDIT, { onTypeChange: this.onTypeChange })\n    })\n  }\n\n}\n\nexport default EmptyType","import GroupType from '../group'\n\nclass MapType extends GroupType {\n\n  static priority = 1\n  static eval = value => typeof value === 'object' && !Array.isArray(value)\n  static defaultValue = (newType, schema, settings) => ({})\n  \n  constructor(config){\n    super({ ...config })\n  }\n\n}\n\nexport default MapType"],"sourceRoot":""}